# HTTP メソッド

## POST と PUT

---

リソースの作成は POST でも PUT でもできるのでどちらを使えばよいか迷うかと思います。
**POST** と **PUT** の違いは **URI をどちらが決めるか** という点です。
POST はサーバー側が URI を決めるので、サーバー側が URI を決定したいときに使います。
PUT はクライアント側が URI を決めるので、たとえば、ブログなどの投稿でタイトルを URI にしたい場合などは PUT の方がよいかもしれません。
ただ POST を使うか PUT を使うかの正解はないので、リソースの作成は POST、リソースの更新は PUT といったシンプルな設計にすることも一つの手かもしれません。

### べき等性と安全性

---

**べき等性** とは **「ある操作を何回行っても結果が同じこと」** です。
HTTP メソッドの GET でいうと、/user/1 のレスポンスが友田君の情報なら、/user/1 に何回でも GET リクエストを送ってもレスポンスが友田君の情報という同じ結果が返ってきます。

<br>

**安全性** とは **「操作対象のリソースの状態を変化させないこと」** です。
PUT メソッドはリソースの更新(リソースの状態を変更させる)ので安全ではありません。

<br>

| メソッド |          性質          |
| :------: | :--------------------: |
|   GET    |     べき等かつ安全     |
|   POST   | べき等でも安全でもない |
|   PUT    |  べき等だが安全でない  |
|  DELETE  |  べき等だが安全でない  |

<br>

ただし、メソッドを誤用したり設計が誤っている場合、GET が安全でなくなったり、PUT がべき等でなくなったりしてしまいます。
このような場合は設計などを見直してみましょう。
